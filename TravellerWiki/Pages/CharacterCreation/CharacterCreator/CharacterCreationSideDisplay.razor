@page "/CharacterCreation/SideDisplay/{CharacterID}"
@using CharacterCreationTest.CharacterCreation
@using Microsoft.AspNetCore.Html
@using TravellerWiki.Data
@using TravellerWiki.Data.Charcters
@using TravellerWiki.Data.CreationEvents
@using TravellerWiki.Data.Services
@using TravellerWiki.Data.Services.CareerService
@using TravellerWiki.Data.TravellerInjuries
@inject CharacterCreatorService CharacterCreationService;
@inject TravellerNationsCharacterInfoService nationsService;
@inject MultiPageCharacterCreationService MultiCharacterCreationService;

@code{
    [Parameter]
    public string CharacterID { get; set; }

    public CharacterCreatorService GetService()
    {
        return MultiCharacterCreationService.GetCharacterCreatorService(CharacterID);
    }
}


<div>
    <table style="float: right;border: 1px solid #a2a9b1; background-color: SlateGray;
                                      margin: 5em 0 0 1em; padding: 0.2em 0.2em 0.2em 0.2em; clear: right; width: 30em; color: #ffe81F; border-color: #ffe81F;">
        <tr>Character</tr>
        <tr>
            <td><b>Name:</b></td>
            <td>@GetService().Name</td>
        </tr>
        <tr>
            <td><b>Nationality:</b></td>
            <td>@GetService().Nationality.NationName</td>
        </tr>
        <tr>
            <td><b>Age:</b></td>
            <td>@GetService().TravellersAge</td>
        </tr>
        <tr>
            <td style="vertical-align: top"><b>Stats:</b></td>
            <td>
                <table>
                    <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Strength)</td></tr>
                    <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Dexterity)</td></tr>
                    <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Endurance)</td></tr>
                    <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Intelligence)</td></tr>
                    <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Education)</td></tr>
                    <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Social)</td></tr>
                    @if (GetService().GetAttributes.Any(x => x.AttributeName == TravellerAttributes.Psionics))
                    {
                        <tr><td>@GetService().GetAttributes.First(x => x.AttributeName == TravellerAttributes.Psionics)</td></tr>
                    }
                </table>
            </td>
        </tr>
        <tr>
            <td style="vertical-align: top"><b>Skills</b> : </td>
            <td>
                <p style="border-color: chartreuse; border-style: solid; border: 1px;">
                    @(GetService()._character.SkillList.Count > 0 ? GetService()._character.SkillList.Aggregate("", (h, t) => h += "," + t).Remove(0, 1) : "None");
                </p>
            </td>
        </tr>
    </table>
</div>
