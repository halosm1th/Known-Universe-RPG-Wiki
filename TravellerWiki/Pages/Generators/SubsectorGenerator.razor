@page "/Generators/SubsectorGenerator/"
@using TravellerMapSystem.Worlds
@using TravellerMapSystem
@using TravellerGalaxyGenertor
@inject TravellerSubsectorGeneratorService subsectorGenerator; 

<h3>SubsectorGenerator</h3>
@code {
    int subsectorDensity = 50;
    public KnownUniverseSubsector? subsector { get; set; }
    public int SubsectorID { get; set; }
    public string subsectorName;
    
    public void GenerateSubsector()
    {
        SubsectorID = subsectorGenerator.GenerateSubsector(subsectorName,subsectorDensity);
        subsector = subsectorGenerator.GetSubsector(SubsectorID);
    }
    
    
    }
    <h2>Traveller Subsector Generator</h2>
<p>
    <label for="name">Name:</label>
    <input type="text"  id="name" placeholder="Subsector Name" @bind="subsectorName"/>

    <br />
    <label for="density">Density: @subsectorDensity</label>
        <input type="range" min="1" max="100" step="1" id="density" @bind="subsectorDensity"/>
    <br/>
        <button type="button" @onclick="GenerateSubsector">Generate Subsector</button>
</p>
        @if (subsector != null)
{
    <h2> The @subsector.Name Subsector.</h2>
    <img alt="the subsector map" src="SubsectorImageGenerator/GetImage/@SubsectorID" width="50%" height="50%"/>
    
    <h3>The Systems of the @subsector.Name subsector!</h3>
                                           <p>
    @foreach (var system in subsector.Systems)
    {
        if(system.HasWorld == true && system.WorldCount > 0){
            <h4> The @system.Name System (@(system.X+1), @(system.Y+1))</h4>
            <ul>
            @foreach (var world in system.WorldsInSystem)
            {
                <li style="white-space: pre-line;border-spacing: 2px;" >@(((TravellerWorld) world).WorldData())</li>
            }
            </ul>
            <br/>
        }
    }
    </p>
}